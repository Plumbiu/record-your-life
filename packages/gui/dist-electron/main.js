"use strict";const Z=require("node:fs/promises"),U=require("node:path"),P=require("electron");var j=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},x={exports:{}},z={exports:{}};function ne(D){throw new Error('Could not dynamically require "'+D+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Y={exports:{}},X={exports:{}};(function(D,o){Object.defineProperty(o,"__esModule",{value:!0}),o.Color=o.HSVA=o.HSLA=o.RGBA=void 0;function B(i,t){const e=Math.pow(10,t);return Math.round(i*e)/e}class G{constructor(t,e,n,c=1){this.r=Math.min(255,Math.max(0,t))|0,this.g=Math.min(255,Math.max(0,e))|0,this.b=Math.min(255,Math.max(0,n))|0,this.a=s("roundFloat")(Math.max(Math.min(1,c),0),3)}static equals(t,e){return t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a}}o.RGBA=s("RGBA");class ${constructor(t,e,n,c){this.h=Math.max(Math.min(360,t),0)|0,this.s=s("roundFloat")(Math.max(Math.min(1,e),0),3),this.l=s("roundFloat")(Math.max(Math.min(1,n),0),3),this.a=s("roundFloat")(Math.max(Math.min(1,c),0),3)}static equals(t,e){return t.h===e.h&&t.s===e.s&&t.l===e.l&&t.a===e.a}static fromRGBA(t){const e=t.r/255,n=t.g/255,c=t.b/255,g=t.a,E=Math.max(e,n,c),R=Math.min(e,n,c);let A=0,m=0;const u=(R+E)/2,d=E-R;if(d>0){switch(m=Math.min(u<=.5?d/(2*u):d/(2-2*u),1),E){case e:A=(n-c)/d+(n<c?6:0);break;case n:A=(c-e)/d+2;break;case c:A=(e-n)/d+4;break}A*=60,A=Math.round(A)}return new(s("HSLA"))(A,m,u,g)}static _hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}static toRGBA(t){const e=t.h/360,{s:n,l:c,a:g}=t;let E,R,A;if(n===0)E=R=A=c;else{const m=c<.5?c*(1+n):c+n-c*n,u=2*c-m;E=s("HSLA")._hue2rgb(u,m,e+1/3),R=s("HSLA")._hue2rgb(u,m,e),A=s("HSLA")._hue2rgb(u,m,e-1/3)}return new(s("RGBA"))(Math.round(E*255),Math.round(R*255),Math.round(A*255),g)}}o.HSLA=s("HSLA");class y{constructor(t,e,n,c){this.h=Math.max(Math.min(360,t),0)|0,this.s=s("roundFloat")(Math.max(Math.min(1,e),0),3),this.v=s("roundFloat")(Math.max(Math.min(1,n),0),3),this.a=s("roundFloat")(Math.max(Math.min(1,c),0),3)}static equals(t,e){return t.h===e.h&&t.s===e.s&&t.v===e.v&&t.a===e.a}static fromRGBA(t){const e=t.r/255,n=t.g/255,c=t.b/255,g=Math.max(e,n,c),E=Math.min(e,n,c),R=g-E,A=g===0?0:R/g;let m;return R===0?m=0:g===e?m=((n-c)/R%6+6)%6:g===n?m=(c-e)/R+2:m=(e-n)/R+4,new(s("HSVA"))(Math.round(m*60),A,g,t.a)}static toRGBA(t){const{h:e,s:n,v:c,a:g}=t,E=c*n,R=E*(1-Math.abs(e/60%2-1)),A=c-E;let[m,u,d]=[0,0,0];return e<60?(m=E,u=R):e<120?(m=R,u=E):e<180?(u=E,d=R):e<240?(u=R,d=E):e<300?(m=R,d=E):e<360&&(m=E,d=R),m=Math.round((m+A)*255),u=Math.round((u+A)*255),d=Math.round((d+A)*255),new(s("RGBA"))(m,u,d,g)}}o.HSVA=s("HSVA");class T{static fromHex(t){return s("Color").Format.CSS.parseHex(t)||s("Color").RED}get hsla(){return this._hsla?this._hsla:s("HSLA").fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:s("HSVA").fromRGBA(this.rgba)}constructor(t){if(t)if(t instanceof s("RGBA"))this.rgba=t;else if(t instanceof s("HSLA"))this._hsla=t,this.rgba=s("HSLA").toRGBA(t);else if(t instanceof s("HSVA"))this._hsva=t,this.rgba=s("HSVA").toRGBA(t);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(t){return!!t&&s("RGBA").equals(this.rgba,t.rgba)&&s("HSLA").equals(this.hsla,t.hsla)&&s("HSVA").equals(this.hsva,t.hsva)}getRelativeLuminance(){const t=s("Color")._relativeLuminanceForComponent(this.rgba.r),e=s("Color")._relativeLuminanceForComponent(this.rgba.g),n=s("Color")._relativeLuminanceForComponent(this.rgba.b),c=.2126*t+.7152*e+.0722*n;return s("roundFloat")(c,4)}static _relativeLuminanceForComponent(t){const e=t/255;return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}getContrastRatio(t){const e=this.getRelativeLuminance(),n=t.getRelativeLuminance();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)}isDarker(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3<128}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(t){const e=this.getRelativeLuminance(),n=t.getRelativeLuminance();return e>n}isDarkerThan(t){const e=this.getRelativeLuminance(),n=t.getRelativeLuminance();return e<n}lighten(t){return new(s("Color"))(new(s("HSLA"))(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*t,this.hsla.a))}darken(t){return new(s("Color"))(new(s("HSLA"))(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*t,this.hsla.a))}transparent(t){const{r:e,g:n,b:c,a:g}=this.rgba;return new(s("Color"))(new(s("RGBA"))(e,n,c,g*t))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new(s("Color"))(new(s("RGBA"))(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}blend(t){const e=t.rgba,n=this.rgba.a,c=e.a,g=n+c*(1-n);if(g<1e-6)return s("Color").TRANSPARENT;const E=this.rgba.r*n/g+e.r*c*(1-n)/g,R=this.rgba.g*n/g+e.g*c*(1-n)/g,A=this.rgba.b*n/g+e.b*c*(1-n)/g;return new(s("Color"))(new(s("RGBA"))(E,R,A,g))}flatten(...t){const e=t.reduceRight((n,c)=>s("Color")._flatten(c,n));return s("Color")._flatten(this,e)}static _flatten(t,e){const n=1-t.rgba.a;return new(s("Color"))(new(s("RGBA"))(n*e.rgba.r+t.rgba.a*t.rgba.r,n*e.rgba.g+t.rgba.a*t.rgba.g,n*e.rgba.b+t.rgba.a*t.rgba.b))}toString(){return""+s("Color").Format.CSS.format(this)}static getLighterColor(t,e,n){if(t.isLighterThan(e))return t;n=n||.5;const c=t.getRelativeLuminance(),g=e.getRelativeLuminance();return n=n*(g-c)/g,t.lighten(n)}static getDarkerColor(t,e,n){if(t.isDarkerThan(e))return t;n=n||.5;const c=t.getRelativeLuminance(),g=e.getRelativeLuminance();return n=n*(c-g)/c,t.darken(n)}}o.Color=s("Color"),s("Color").WHITE=new(s("Color"))(new(s("RGBA"))(255,255,255,1)),s("Color").BLACK=new(s("Color"))(new(s("RGBA"))(0,0,0,1)),s("Color").RED=new(s("Color"))(new(s("RGBA"))(255,0,0,1)),s("Color").BLUE=new(s("Color"))(new(s("RGBA"))(0,0,255,1)),s("Color").GREEN=new(s("Color"))(new(s("RGBA"))(0,255,0,1)),s("Color").CYAN=new(s("Color"))(new(s("RGBA"))(0,255,255,1)),s("Color").LIGHTGREY=new(s("Color"))(new(s("RGBA"))(211,211,211,1)),s("Color").TRANSPARENT=new(s("Color"))(new(s("RGBA"))(0,0,0,0)),function(i){(function(t){(function(e){function n(l){return l.rgba.a===1?`rgb(${l.rgba.r}, ${l.rgba.g}, ${l.rgba.b})`:i.Format.CSS.formatRGBA(l)}e.formatRGB=n;function c(l){return`rgba(${l.rgba.r}, ${l.rgba.g}, ${l.rgba.b}, ${+l.rgba.a.toFixed(2)})`}e.formatRGBA=c;function g(l){return l.hsla.a===1?`hsl(${l.hsla.h}, ${(l.hsla.s*100).toFixed(2)}%, ${(l.hsla.l*100).toFixed(2)}%)`:i.Format.CSS.formatHSLA(l)}e.formatHSL=g;function E(l){return`hsla(${l.hsla.h}, ${(l.hsla.s*100).toFixed(2)}%, ${(l.hsla.l*100).toFixed(2)}%, ${l.hsla.a.toFixed(2)})`}e.formatHSLA=E;function R(l){const W=l.toString(16);return W.length!==2?"0"+W:W}function A(l){return`#${R(l.rgba.r)}${R(l.rgba.g)}${R(l.rgba.b)}`}e.formatHex=A;function m(l,W=!1){return W&&l.rgba.a===1?i.Format.CSS.formatHex(l):`#${R(l.rgba.r)}${R(l.rgba.g)}${R(l.rgba.b)}${R(Math.round(l.rgba.a*255))}`}e.formatHexA=m;function u(l){return l?l.isOpaque()?i.Format.CSS.formatHex(l):i.Format.CSS.formatRGBA(l):null}e.format=u;function d(l){if(!l)return null;const W=l.length;if(W===0||l.charCodeAt(0)!==35)return null;if(W===7){const H=16*I(l.charCodeAt(1))+I(l.charCodeAt(2)),V=16*I(l.charCodeAt(3))+I(l.charCodeAt(4)),F=16*I(l.charCodeAt(5))+I(l.charCodeAt(6));return new i(new(s("RGBA"))(H,V,F,1))}if(W===9){const H=16*I(l.charCodeAt(1))+I(l.charCodeAt(2)),V=16*I(l.charCodeAt(3))+I(l.charCodeAt(4)),F=16*I(l.charCodeAt(5))+I(l.charCodeAt(6)),k=16*I(l.charCodeAt(7))+I(l.charCodeAt(8));return new i(new(s("RGBA"))(H,V,F,k/255))}if(W===4){const H=I(l.charCodeAt(1)),V=I(l.charCodeAt(2)),F=I(l.charCodeAt(3));return new i(new(s("RGBA"))(16*H+H,16*V+V,16*F+F))}if(W===5){const H=I(l.charCodeAt(1)),V=I(l.charCodeAt(2)),F=I(l.charCodeAt(3)),k=I(l.charCodeAt(4));return new i(new(s("RGBA"))(16*H+H,16*V+V,16*F+F,(16*k+k)/255))}return null}e.parseHex=d;function I(l){switch(l){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(t.CSS||(t.CSS={}))})(i.Format||(i.Format={}))}(s("Color")||(o.Color=_("Color",{})));function b(){try{if(j)return j}catch{try{if(window)return window}catch{return this}}}var C=null;function v(){if(C===null){let i=b();i.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(i.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),C=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return C}function O(){let i=b();return i.__$$GLOBAL_REWIRE_REGISTRY__||(i.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),i.__$$GLOBAL_REWIRE_REGISTRY__}function S(){let i=v(),t=O(),e=t[i];return e||(t[i]=Object.create(null),e=t[i]),e}(function(){let t=b();t.__rewire_reset_all__||(t.__rewire_reset_all__=function(){t.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})})();var L="__INTENTIONAL_UNDEFINED__";let M={};(function(){function i(t,e){Object.defineProperty(M,t,{value:e,enumerable:!1,configurable:!0})}i("__get__",s),i("__GetDependency__",s),i("__Rewire__",r),i("__set__",r),i("__reset__",f),i("__ResetDependency__",f),i("__with__",h)})();function s(i){let t=S();if(t[i]===void 0)return p(i);var e=t[i];return e===L?void 0:e}function p(i){switch(i){case"roundFloat":return B;case"RGBA":return G;case"HSLA":return $;case"HSVA":return y;case"Color":return T}}function _(i,t){let e=S();return e[i]===void 0?a(i,t):e[i]=t}function a(i,t){switch(i){case"Color":return T=t}}function r(i,t){let e=S();return typeof i=="object"?(Object.keys(i).forEach(function(n){e[n]=i[n]}),function(){Object.keys(i).forEach(function(n){f(i)})}):(t===void 0?e[i]=L:e[i]=t,function(){f(i)})}function f(i){let t=S();delete t[i],Object.keys(t).length==0&&delete O()[v]}function h(i){let t=S();var e=Object.keys(i),n={};function c(){e.forEach(function(g){t[g]=n[g]})}return function(g){e.forEach(function(R){n[R]=t[R],t[R]=i[R]});let E=g();return E&&typeof E.then=="function"?E.then(c).catch(c):c(),E}}function w(i,t){Object.defineProperty(D.exports,i,{value:t,enumerable:!1,configurable:!0})}Object.isExtensible(D.exports)&&(w("__get__",s),w("__GetDependency__",s),w("__Rewire__",r),w("__set__",r),w("__reset__",f),w("__ResetDependency__",f),w("__with__",h),w("__RewireAPI__",M))})(X,X.exports);var re=X.exports,q={exports:{}};(function(D,o){Object.defineProperty(o,"__esModule",{value:!0}),o.OS=o.setImmediate=o.globals=o.isRootUser=o.platform=o.isWeb=o.isNative=o.isFreeBSD=o.isLinux=o.isMacintosh=o.isWindows=o.PlatformToString=void 0;let B=!1,G=!1,$=!1,y=!1,T=!1,b=!1;const C=typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.electron<"u"&&process.type==="renderer";if(typeof navigator=="object"&&!e("isElectronRenderer")){const u=navigator.userAgent;c("_isWindows",u.indexOf("Windows")>=0),c("_isMacintosh",u.indexOf("Macintosh")>=0),c("_isLinux",u.indexOf("Linux")>=0),c("_isFreeBSD",u.indexOf("FreeBSD")>=0),c("_isWeb",!0)}else typeof process=="object"&&(c("_isWindows",process.platform==="win32"),c("_isMacintosh",process.platform==="darwin"),c("_isLinux",process.platform==="linux"),c("_isFreeBSD",process.platform==="freebsd"),c("_isNative",!0));function v(u){switch(u){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"FreeBSD";case 4:return"Windows"}}o.PlatformToString=e("PlatformToString");let O=0;e("_isNative")&&(e("_isMacintosh")?c("_platform",1):e("_isWindows")?c("_platform",4):e("_isLinux")?c("_platform",2):e("_isFreeBSD")&&c("_platform",3)),o.isWindows=e("_isWindows"),o.isMacintosh=e("_isMacintosh"),o.isLinux=e("_isLinux"),o.isFreeBSD=e("_isFreeBSD"),o.isNative=e("_isNative"),o.isWeb=e("_isWeb"),o.platform=e("_platform");function S(){return e("_isNative")&&!e("_isWindows")&&process.getuid()===0}o.isRootUser=e("isRootUser");const L=typeof j=="object"?j:{},M=typeof self=="object"?self:e("g");o.globals=e("_globals");let s=null;function p(u){return e("_setImmediate")===null&&(o.globals.setImmediate?c("_setImmediate",o.globals.setImmediate.bind(o.globals)):typeof process<"u"&&typeof process.nextTick=="function"?c("_setImmediate",process.nextTick.bind(process)):c("_setImmediate",o.globals.setTimeout.bind(o.globals))),e("_setImmediate")(u)}o.setImmediate=e("setImmediate");const _=e("_isWindows")?1:7;o.OS=e("_isMacintosh")?2:e("_wl");function a(){try{if(j)return j}catch{try{if(window)return window}catch{return this}}}var r=null;function f(){if(r===null){let u=a();u.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(u.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),r=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return r}function h(){let u=a();return u.__$$GLOBAL_REWIRE_REGISTRY__||(u.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),u.__$$GLOBAL_REWIRE_REGISTRY__}function w(){let u=f(),d=h(),I=d[u];return I||(d[u]=Object.create(null),I=d[u]),I}(function(){let d=a();d.__rewire_reset_all__||(d.__rewire_reset_all__=function(){d.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})})();var i="__INTENTIONAL_UNDEFINED__";let t={};(function(){function u(d,I){Object.defineProperty(t,d,{value:I,enumerable:!1,configurable:!0})}u("__get__",e),u("__GetDependency__",e),u("__Rewire__",E),u("__set__",E),u("__reset__",R),u("__ResetDependency__",R),u("__with__",A)})();function e(u){let d=w();if(d[u]===void 0)return n(u);var I=d[u];return I===i?void 0:I}function n(u){switch(u){case"isElectronRenderer":return C;case"_isWindows":return B;case"_isMacintosh":return G;case"_isLinux":return $;case"_isFreeBSD":return y;case"_isWeb":return b;case"_isNative":return T;case"PlatformToString":return v;case"_platform":return O;case"isRootUser":return S;case"g":return L;case"_globals":return M;case"_setImmediate":return s;case"setImmediate":return p;case"_wl":return _}}function c(u,d){let I=w();return I[u]===void 0?g(u,d):I[u]=d}function g(u,d){switch(u){case"_isWindows":return B=d;case"_isMacintosh":return G=d;case"_isLinux":return $=d;case"_isFreeBSD":return y=d;case"_isWeb":return b=d;case"_isNative":return T=d;case"_platform":return O=d;case"_setImmediate":return s=d}}function E(u,d){let I=w();return typeof u=="object"?(Object.keys(u).forEach(function(l){I[l]=u[l]}),function(){Object.keys(u).forEach(function(l){R(u)})}):(d===void 0?I[u]=i:I[u]=d,function(){R(u)})}function R(u){let d=w();delete d[u],Object.keys(d).length==0&&delete h()[f]}function A(u){let d=w();var I=Object.keys(u),l={};function W(){I.forEach(function(H){d[H]=l[H]})}return function(H){I.forEach(function(F){l[F]=d[F],d[F]=u[F]});let V=H();return V&&typeof V.then=="function"?V.then(W).catch(W):W(),V}}function m(u,d){Object.defineProperty(D.exports,u,{value:d,enumerable:!1,configurable:!0})}Object.isExtensible(D.exports)&&(m("__get__",e),m("__GetDependency__",e),m("__Rewire__",E),m("__set__",E),m("__reset__",R),m("__ResetDependency__",R),m("__with__",A),m("__RewireAPI__",t))})(q,q.exports);var _e=q.exports;(function(D,o){Object.defineProperty(o,"__esModule",{value:!0}),o.loadWindowIcons=o.applyFill=o.parseAccelerator=o.cleanMnemonic=o.mnemonicButtonLabel=o.mnemonicMenuLabel=o.getPx=o.menuIcons=o.MENU_ESCAPED_MNEMONIC_REGEX=o.MENU_MNEMONIC_REGEX=o.WINDOW_MIN_HEIGHT=o.WINDOW_MIN_WIDTH=o.TOP_TITLEBAR_HEIGHT_WIN=o.TOP_TITLEBAR_HEIGHT_MAC=o.BOTTOM_TITLEBAR_HEIGHT=o.IS_MAC_BIGSUR_OR_LATER=o.DEFAULT_ITEM_SELECTOR=o.ACTIVE_FOREGROUND=o.INACTIVE_FOREGROUND=o.ACTIVE_FOREGROUND_DARK=o.INACTIVE_FOREGROUND_DARK=void 0;const B=re,G=_e;o.INACTIVE_FOREGROUND_DARK=r("color_1").Color.fromHex("#222222"),o.ACTIVE_FOREGROUND_DARK=r("color_1").Color.fromHex("#333333"),o.INACTIVE_FOREGROUND=r("color_1").Color.fromHex("#EEEEEE"),o.ACTIVE_FOREGROUND=r("color_1").Color.fromHex("#FFFFFF"),o.DEFAULT_ITEM_SELECTOR=r("color_1").Color.fromHex("#0000001F"),o.IS_MAC_BIGSUR_OR_LATER=r("platform_1").isMacintosh&&parseInt(process.getSystemVersion().split(".")[0])>=11,o.BOTTOM_TITLEBAR_HEIGHT=60,o.TOP_TITLEBAR_HEIGHT_MAC=o.IS_MAC_BIGSUR_OR_LATER?28:22,o.TOP_TITLEBAR_HEIGHT_WIN=30,o.WINDOW_MIN_WIDTH=400,o.WINDOW_MIN_HEIGHT=270,o.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,o.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g,o.menuIcons={submenuIndicator:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><polyline points="9 6 15 12 9 18" /></svg>',checkbox:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12l5 5l10 -10" /></svg>',radioChecked:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="currentColor" d="M10,5 C7.2,5 5,7.2 5,10 C5,12.8 7.2,15 10,15 C12.8,15 15,12.8 15,10 C15,7.2 12.8,5 10,5 L10,5 Z M10,0 C4.5,0 0,4.5 0,10 C0,15.5 4.5,20 10,20 C15.5,20 20,15.5 20,10 C20,4.5 15.5,0 10,0 L10,0 Z M10,18 C5.6,18 2,14.4 2,10 C2,5.6 5.6,2 10,2 C14.4,2 18,5.6 18,10 C18,14.4 14.4,18 10,18 L10,18 Z" /></svg>',radioUnchecked:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path fill="currentColor" d="M10,0 C4.5,0 0,4.5 0,10 C0,15.5 4.5,20 10,20 C15.5,20 20,15.5 20,10 C20,4.5 15.5,0 10,0 L10,0 Z M10,18 C5.6,18 2,14.4 2,10 C2,5.6 5.6,2 10,2 C14.4,2 18,5.6 18,10 C18,14.4 14.4,18 10,18 L10,18 Z" /></svg>',linux:{minimize:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11"><path d="M11,4.9v1.1H0V4.399h11z"/></svg>',maximize:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11"><path d="M0,1.7v7.6C0,10.2,0.8,11,1.7,11h7.6c0.9,0,1.7-0.8,1.7-1.7V1.7C11,0.8,10.2,0,9.3,0H1.7C0.8,0,0,0.8,0,1.7z M8.8,9.9H2.2c-0.6,0-1.1-0.5-1.1-1.1V2.2c0-0.6,0.5-1.1,1.1-1.1h6.7c0.6,0,1.1,0.5,1.1,1.1v6.7C9.9,9.4,9.4,9.9,8.8,9.9z"/></svg>',restore:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11"><path d="M7.9,2.2h-7C0.4,2.2,0,2.6,0,3.1v7C0,10.6,0.4,11,0.9,11h7c0.5,0,0.9-0.4,0.9-0.9v-7C8.8,2.6,8.4,2.2,7.9,2.2z M7.7,9.6 c0,0.2-0.1,0.3-0.3,0.3h-6c-0.2,0-0.3-0.1-0.3-0.3v-6c0-0.2,0.1-0.3,0.3-0.3h6c0.2,0,0.3,0.1,0.3,0.3V9.6z M10,0.9 c0,0.5-0.4,0.9-0.9,0.9h-2.1 c-0.5,0-0.9-0.4-0.9-0.9V0.9c0-0.5,0.4-0.9,0.9-0.9h2.1C9.6,0,10,0.4,10,0.9z"/></svg>',close:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11"><path d="M6.279 5.5L11 10.221l-.779.779L5.5 6.279.779 11 0 10.221 4.721 5.5 0 .779.779 0 5.5 4.721 10.221 0 11 .779 6.279 5.5z"/></svg>'},freebsd:{minimize:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11"><path d="M11,4.9v1.1H0V4.399h11z"/></svg>',maximize:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11"><path d="M0,1.7v7.6C0,10.2,0.8,11,1.7,11h7.6c0.9,0,1.7-0.8,1.7-1.7V1.7C11,0.8,10.2,0,9.3,0H1.7C0.8,0,0,0.8,0,1.7z M8.8,9.9H2.2c-0.6,0-1.1-0.5-1.1-1.1V2.2c0-0.6,0.5-1.1,1.1-1.1h6.7c0.6,0,1.1,0.5,1.1,1.1v6.7C9.9,9.4,9.4,9.9,8.8,9.9z"/></svg>',restore:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11"><path d="M7.9,2.2h-7C0.4,2.2,0,2.6,0,3.1v7C0,10.6,0.4,11,0.9,11h7c0.5,0,0.9-0.4,0.9-0.9v-7C8.8,2.6,8.4,2.2,7.9,2.2z M7.7,9.6 c0,0.2-0.1,0.3-0.3,0.3h-6c-0.2,0-0.3-0.1-0.3-0.3v-6c0-0.2,0.1-0.3,0.3-0.3h6c0.2,0,0.3,0.1,0.3,0.3V9.6z M10,0.9 c0,0.5-0.4,0.9-0.9,0.9h-2.1 c-0.5,0-0.9-0.4-0.9-0.9V0.9c0-0.5,0.4-0.9,0.9-0.9h2.1C9.6,0,10,0.4,10,0.9z"/></svg>',close:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11"><path d="M6.279 5.5L11 10.221l-.779.779L5.5 6.279.779 11 0 10.221 4.721 5.5 0 .779.779 0 5.5 4.721 10.221 0 11 .779 6.279 5.5z"/></svg>'},windows:{minimize:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11"><path d="M11,4.9v1.1H0V4.399h11z"/></svg>',maximize:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11"><path d="M0,1.7v7.6C0,10.2,0.8,11,1.7,11h7.6c0.9,0,1.7-0.8,1.7-1.7V1.7C11,0.8,10.2,0,9.3,0H1.7C0.8,0,0,0.8,0,1.7z M8.8,9.9H2.2c-0.6,0-1.1-0.5-1.1-1.1V2.2c0-0.6,0.5-1.1,1.1-1.1h6.7c0.6,0,1.1,0.5,1.1,1.1v6.7C9.9,9.4,9.4,9.9,8.8,9.9z"/></svg>',restore:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11"><path d="M7.9,2.2h-7C0.4,2.2,0,2.6,0,3.1v7C0,10.6,0.4,11,0.9,11h7c0.5,0,0.9-0.4,0.9-0.9v-7C8.8,2.6,8.4,2.2,7.9,2.2z M7.7,9.6 c0,0.2-0.1,0.3-0.3,0.3h-6c-0.2,0-0.3-0.1-0.3-0.3v-6c0-0.2,0.1-0.3,0.3-0.3h6c0.2,0,0.3,0.1,0.3,0.3V9.6z"/><path d="M10,0H3.5v1.1h6.1c0.2,0,0.3,0.1,0.3,0.3v6.1H11V1C11,0.4,10.6,0,10,0z"/></svg>',close:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11"><path d="M6.279 5.5L11 10.221l-.779.779L5.5 6.279.779 11 0 10.221 4.721 5.5 0 .779.779 0 5.5 4.721 10.221 0 11 .779 6.279 5.5z"/></svg>'}};function $(e){return`${e}px`}o.getPx=r("getPx");function y(e,n){return r("platform_1").isMacintosh||n?e.replace(/\(&&\w\)|&&/g,"").replace(/&/g,r("platform_1").isMacintosh?"&":"&&"):e.replace(/&&|&/g,c=>c==="&"?"&&":"&")}o.mnemonicMenuLabel=r("mnemonicMenuLabel");function T(e,n){return r("platform_1").isMacintosh||n?e.replace(/\(&&\w\)|&&/g,""):r("platform_1").isWindows?e.replace(/&&|&/g,c=>c==="&"?"&&":"&"):e.replace(/&&/g,"_")}o.mnemonicButtonLabel=r("mnemonicButtonLabel");function b(e){const n=o.MENU_MNEMONIC_REGEX,c=n.exec(e);if(!c)return e;const g=!c[1];return e.replace(n,g?"$2$3":"").trim()}o.cleanMnemonic=r("cleanMnemonic");function C(e){let n=e.toString();return r("platform_1").isMacintosh?n=n.replace(/(Ctrl)|(Control)/gi,""):n=n.replace(/(Cmd)|(Command)/gi,""),n=n.replace(/(Or)/gi,""),n}o.parseAccelerator=r("parseAccelerator");function v(e,n,c,g=!0){let E="";n?E=n.toString():c&&(E=c.toString()),e&&e!==null&&(g?e.style.color=E:e.style.backgroundColor=E)}o.applyFill=r("applyFill");function O(e){if(!e)return;const n=ne(e);return{icons:n,platformIcons:n[(0,r("platform_1").PlatformToString)(r("platform_1").platform).toLocaleLowerCase()]}}o.loadWindowIcons=r("loadWindowIcons");function S(){try{if(j)return j}catch{try{if(window)return window}catch{return this}}}var L=null;function M(){if(L===null){let e=S();e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(e.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),L=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return L}function s(){let e=S();return e.__$$GLOBAL_REWIRE_REGISTRY__||(e.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),e.__$$GLOBAL_REWIRE_REGISTRY__}function p(){let e=M(),n=s(),c=n[e];return c||(n[e]=Object.create(null),c=n[e]),c}(function(){let n=S();n.__rewire_reset_all__||(n.__rewire_reset_all__=function(){n.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})})();var _="__INTENTIONAL_UNDEFINED__";let a={};(function(){function e(n,c){Object.defineProperty(a,n,{value:c,enumerable:!1,configurable:!0})}e("__get__",r),e("__GetDependency__",r),e("__Rewire__",h),e("__set__",h),e("__reset__",w),e("__ResetDependency__",w),e("__with__",i)})();function r(e){let n=p();if(n[e]===void 0)return f(e);var c=n[e];return c===_?void 0:c}function f(e){switch(e){case"color_1":return B;case"platform_1":return G;case"getPx":return $;case"mnemonicMenuLabel":return y;case"mnemonicButtonLabel":return T;case"cleanMnemonic":return b;case"parseAccelerator":return C;case"applyFill":return v;case"loadWindowIcons":return O}}function h(e,n){let c=p();return typeof e=="object"?(Object.keys(e).forEach(function(g){c[g]=e[g]}),function(){Object.keys(e).forEach(function(g){w(e)})}):(n===void 0?c[e]=_:c[e]=n,function(){w(e)})}function w(e){let n=p();delete n[e],Object.keys(n).length==0&&delete s()[M]}function i(e){let n=p();var c=Object.keys(e),g={};function E(){c.forEach(function(R){n[R]=g[R]})}return function(R){c.forEach(function(m){g[m]=n[m],n[m]=e[m]});let A=R();return A&&typeof A.then=="function"?A.then(E).catch(E):E(),A}}function t(e,n){Object.defineProperty(D.exports,e,{value:n,enumerable:!1,configurable:!0})}Object.isExtensible(D.exports)&&(t("__get__",r),t("__GetDependency__",r),t("__Rewire__",h),t("__set__",h),t("__reset__",w),t("__ResetDependency__",w),t("__with__",i),t("__RewireAPI__",a))})(Y,Y.exports);var ie=Y.exports;(function(D,o){Object.defineProperty(o,"__esModule",{value:!0});const B=ie;o.default=_=>{_.setMinimumSize(O("consts_1").WINDOW_MIN_WIDTH,O("consts_1").WINDOW_MIN_HEIGHT),_.on("enter-full-screen",()=>{_.webContents.send("window-fullscreen",!0)}),_.on("leave-full-screen",()=>{_.webContents.send("window-fullscreen",!1)}),_.on("focus",()=>{_.webContents.send("window-focus",!0)}),_.on("blur",()=>{_.webContents.send("window-focus",!1)}),_.on("maximize",()=>{_.webContents.send("window-maximize",!0)}),_.on("unmaximize",()=>{_.webContents.send("window-maximize",!1)})};function G(){try{if(j)return j}catch{try{if(window)return window}catch{return this}}}var $=null;function y(){if($===null){let _=G();_.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(_.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),$=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return $}function T(){let _=G();return _.__$$GLOBAL_REWIRE_REGISTRY__||(_.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),_.__$$GLOBAL_REWIRE_REGISTRY__}function b(){let _=y(),a=T(),r=a[_];return r||(a[_]=Object.create(null),r=a[_]),r}(function(){let a=G();a.__rewire_reset_all__||(a.__rewire_reset_all__=function(){a.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})})();var C="__INTENTIONAL_UNDEFINED__";let v={};(function(){function _(a,r){Object.defineProperty(v,a,{value:r,enumerable:!1,configurable:!0})}_("__get__",O),_("__GetDependency__",O),_("__Rewire__",L),_("__set__",L),_("__reset__",M),_("__ResetDependency__",M),_("__with__",s)})();function O(_){let a=b();if(a[_]===void 0)return S(_);var r=a[_];return r===C?void 0:r}function S(_){switch(_){case"consts_1":return B}}function L(_,a){let r=b();return typeof _=="object"?(Object.keys(_).forEach(function(f){r[f]=_[f]}),function(){Object.keys(_).forEach(function(f){M(_)})}):(a===void 0?r[_]=C:r[_]=a,function(){M(_)})}function M(_){let a=b();delete a[_],Object.keys(a).length==0&&delete T()[y]}function s(_){let a=b();var r=Object.keys(_),f={};function h(){r.forEach(function(w){a[w]=f[w]})}return function(w){r.forEach(function(t){f[t]=a[t],a[t]=_[t]});let i=w();return i&&typeof i.then=="function"?i.then(h).catch(h):h(),i}}function p(_,a){Object.defineProperty(D.exports,_,{value:a,enumerable:!1,configurable:!0})}Object.isExtensible(D.exports)&&(p("__get__",O),p("__GetDependency__",O),p("__Rewire__",L),p("__set__",L),p("__reset__",M),p("__ResetDependency__",M),p("__with__",s),p("__RewireAPI__",v))})(z,z.exports);var oe=z.exports,K={exports:{}};(function(D,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=()=>{if(process.type!=="browser")return;const{BrowserWindow:_,Menu:a,MenuItem:r,ipcMain:f}=P;f.handle("request-application-menu",async()=>JSON.parse(JSON.stringify(a.getApplicationMenu(),(h,w)=>h!=="commandsMap"&&h!=="menu"?w:void 0))),f.on("window-event",(h,w)=>{const i=_.fromWebContents(h.sender);if(i)switch(w){case"window-minimize":i==null||i.minimize();break;case"window-maximize":i!=null&&i.isMaximized()?i.unmaximize():i==null||i.maximize();break;case"window-close":i==null||i.close();break;case"window-is-maximized":h.returnValue=i==null?void 0:i.isMaximized();break}}),f.on("menu-event",(h,w)=>{const i=O("getMenuItemByCommandId")(w,a.getApplicationMenu());i&&i.click(void 0,_.fromWebContents(h.sender),h.sender)}),f.on("menu-icon",(h,w)=>{const i=O("getMenuItemByCommandId")(w,a.getApplicationMenu());i&&i.icon&&typeof i.icon!="string"?h.returnValue=i.icon.toDataURL():h.returnValue=null}),f.on("update-window-controls",(h,w)=>{const i=_.fromWebContents(h.sender);try{i&&i.setTitleBarOverlay(w),h.returnValue=!0}catch{h.returnValue=!1}})};function B(_,a){if(a){for(const r of a.items)if(r.submenu){const f=O("getMenuItemByCommandId")(_,r.submenu);if(f)return f}else if(r.commandId===_)return r}}function G(){try{if(j)return j}catch{try{if(window)return window}catch{return this}}}var $=null;function y(){if($===null){let _=G();_.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(_.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),$=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return $}function T(){let _=G();return _.__$$GLOBAL_REWIRE_REGISTRY__||(_.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),_.__$$GLOBAL_REWIRE_REGISTRY__}function b(){let _=y(),a=T(),r=a[_];return r||(a[_]=Object.create(null),r=a[_]),r}(function(){let a=G();a.__rewire_reset_all__||(a.__rewire_reset_all__=function(){a.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})})();var C="__INTENTIONAL_UNDEFINED__";let v={};(function(){function _(a,r){Object.defineProperty(v,a,{value:r,enumerable:!1,configurable:!0})}_("__get__",O),_("__GetDependency__",O),_("__Rewire__",L),_("__set__",L),_("__reset__",M),_("__ResetDependency__",M),_("__with__",s)})();function O(_){let a=b();if(a[_]===void 0)return S(_);var r=a[_];return r===C?void 0:r}function S(_){switch(_){case"getMenuItemByCommandId":return B}}function L(_,a){let r=b();return typeof _=="object"?(Object.keys(_).forEach(function(f){r[f]=_[f]}),function(){Object.keys(_).forEach(function(f){M(_)})}):(a===void 0?r[_]=C:r[_]=a,function(){M(_)})}function M(_){let a=b();delete a[_],Object.keys(a).length==0&&delete T()[y]}function s(_){let a=b();var r=Object.keys(_),f={};function h(){r.forEach(function(w){a[w]=f[w]})}return function(w){r.forEach(function(t){f[t]=a[t],a[t]=_[t]});let i=w();return i&&typeof i.then=="function"?i.then(h).catch(h):h(),i}}function p(_,a){Object.defineProperty(D.exports,_,{value:a,enumerable:!1,configurable:!0})}Object.isExtensible(D.exports)&&(p("__get__",O),p("__GetDependency__",O),p("__Rewire__",L),p("__set__",L),p("__reset__",M),p("__ResetDependency__",M),p("__with__",s),p("__RewireAPI__",v))})(K,K.exports);var se=K.exports;(function(D,o){var B=j&&j.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(o,"__esModule",{value:!0}),o.attachTitlebarToWindow=o.setupTitlebar=void 0;const G=L("__importDefault")(oe);o.attachTitlebarToWindow=L("attach_titlebar_to_window_1").default;const $=L("__importDefault")(se);o.setupTitlebar=L("setup_titlebar_1").default;function y(){try{if(j)return j}catch{try{if(window)return window}catch{return this}}}var T=null;function b(){if(T===null){let r=y();r.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__||(r.__$$GLOBAL_REWIRE_NEXT_MODULE_ID__=0),T=__$$GLOBAL_REWIRE_NEXT_MODULE_ID__++}return T}function C(){let r=y();return r.__$$GLOBAL_REWIRE_REGISTRY__||(r.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)),r.__$$GLOBAL_REWIRE_REGISTRY__}function v(){let r=b(),f=C(),h=f[r];return h||(f[r]=Object.create(null),h=f[r]),h}(function(){let f=y();f.__rewire_reset_all__||(f.__rewire_reset_all__=function(){f.__$$GLOBAL_REWIRE_REGISTRY__=Object.create(null)})})();var O="__INTENTIONAL_UNDEFINED__";let S={};(function(){function r(f,h){Object.defineProperty(S,f,{value:h,enumerable:!1,configurable:!0})}r("__get__",L),r("__GetDependency__",L),r("__Rewire__",s),r("__set__",s),r("__reset__",p),r("__ResetDependency__",p),r("__with__",_)})();function L(r){let f=v();if(f[r]===void 0)return M(r);var h=f[r];return h===O?void 0:h}function M(r){switch(r){case"__importDefault":return B;case"attach_titlebar_to_window_1":return G;case"setup_titlebar_1":return $}}function s(r,f){let h=v();return typeof r=="object"?(Object.keys(r).forEach(function(w){h[w]=r[w]}),function(){Object.keys(r).forEach(function(w){p(r)})}):(f===void 0?h[r]=O:h[r]=f,function(){p(r)})}function p(r){let f=v();delete f[r],Object.keys(f).length==0&&delete C()[b]}function _(r){let f=v();var h=Object.keys(r),w={};function i(){h.forEach(function(t){f[t]=w[t]})}return function(t){h.forEach(function(n){w[n]=f[n],f[n]=r[n]});let e=t();return e&&typeof e.then=="function"?e.then(i).catch(i):i(),e}}function a(r,f){Object.defineProperty(D.exports,r,{value:f,enumerable:!1,configurable:!0})}Object.isExtensible(D.exports)&&(a("__get__",L),a("__GetDependency__",L),a("__Rewire__",s),a("__set__",s),a("__reset__",p),a("__ResetDependency__",p),a("__with__",_),a("__RewireAPI__",S))})(x,x.exports);var ee=x.exports;ee.setupTitlebar();const J="E:\\program\\record-your-life";process.env.DIST=U.join(__dirname,"../dist");process.env.VITE_PUBLIC=P.app.isPackaged?process.env.DIST:U.join(process.env.DIST,"../public");let N;const Q=process.env.VITE_DEV_SERVER_URL;function te(){N=new P.BrowserWindow({icon:U.join(process.env.VITE_PUBLIC,"electron-vite.svg"),titleBarStyle:"hidden",width:900,height:550,titleBarOverlay:!0,webPreferences:{preload:U.join(__dirname,"preload.js")}}),P.Menu.setApplicationMenu(null),ee.attachTitlebarToWindow(N),N.webContents.on("did-finish-load",()=>{N==null||N.webContents.send("main-process-message",new Date().toLocaleString())}),N.webContents.openDevTools(),Q?N.loadURL(Q):N.loadFile(U.join(process.env.DIST,"index.html"))}P.app.on("window-all-closed",()=>{process.platform!=="darwin"&&(P.app.quit(),N=null)});P.app.on("activate",()=>{P.BrowserWindow.getAllWindows().length===0&&te()});P.app.whenReady().then(()=>{const D=/\d{4}-\d{2}-\d{2}.json/;P.ipcMain.handle("all-date",async()=>(await Z.readdir(J)).filter(B=>D.test(B)).map(B=>B.replace(".json",""))),P.ipcMain.handle("app",async(o,B)=>{try{const G=await Z.readFile(U.join(J,B+".json"),"utf-8"),$=JSON.parse(G),y=[];for(const[T,b]of Object.entries($))try{if(b.path&&b.total>0&&b.durations.length>2){const C=await P.app.getFileIcon(b.path,{size:"large"});y.push({name:T,...b,icon:C.toDataURL()})}}catch{}return y.sort((T,b)=>b.total-T.total)}catch{return}}),te(),P.utilityProcess.fork(U.join(__dirname,"./watch.mjs"))});
